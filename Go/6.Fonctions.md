# Les Fonctions

En Go, les fonctions permettent de regrouper un ensemble d'instructions que nous pouvons appeler à partir d'autres parties de notre application, au lieu de créer un programme avec de nombreuses instructions, nous pouvons utiliser des fonctions pour organiser le code et le rendrre plus lisible!

Jusqu'à maitenant, nous avons appellé la fonction **fmt.Println()** et avons écrit du code dans la fonction **main()**, nous allons découvrir comment nous pouvons créer des fonctions personnalisées et examiner d'autres techniques que nous pouvons utiliser en Go.

## Fonction main

Du début du cours à présent, nous n'avons utiliser que la fonction **main**, tout les programmes exécutable en Go ont cette fonction car il s'agit du point de départ du programme. Nous ne pouvons avoir qu'une seule fonction **main()** dans notre programme. Si nous décidons de crée un package, nous n'avons pas besoin d'écrire de fonction **main()**, nous verrons cela plus tard.

La fonction **main()** n'a pas de paramètres et ne retourne rien. Cependant, elle peut lire les arguments de ligne de commande en utilisant le package [os](https://pkg.go.dev/os) et la variable **os.Args**, qui contient tous les arguments passés au programme.

Le code suivant lit deux nombres à partir de la ligne de commande et les additionne : 
```php
package main

import(
    "fmt"
    "os"
    "strconv"

    func main(){
        number1, _ := strconv.Atoi(os.Args[1])
        number2, _ := strconv.Atoi(os.Args[2])
        fmt.Println("Sum", number1+number2)
    }
)
```
La variable **os.Args** contient tous les arguments de ligne de commande passés au programme. Ces valeurs étant de type **string**, vous devez les convertir en **int** pour les additionner.

Pour exécuter la commande, utilisez cette commande : 

```php
go run [NAME FILE].go 5 7
```
Vous devriez avoir comme output : 
```php
Sum: 12
```
Ce code ci-dessus peut être refactorisé voyons cela avec une fonction personnalisée .

## Fonctions personnalisées

Voici la syntaxe pour crée une fonction : 
```php
func name(parameters) (results){
    body-content
}
```
Ici, nous utilison le mot clé func pour définir et lui affecter un name, aprés le name, nous spécifions la liste des paramètres de la fonction, il peut y avoir zéro ou plusieurs paramètres, nous pouvons aussi définir les types de retour de la fonction dont celui ci put être égal à zéro ou plus. Une fois cela fais nous écrivons le contenu du corps de la fonction.

Refactorisons notre code en appliquant cela :
´´´php
package main

import (
	"fmt"
	"os"
	"strconv"
)

func main() {
	sum := sum(os.Args[1], os.Args[2])
	fmt.Println("Sum:", sum)
}

func sum(number1 string, number2 string) int {
	int1, _ := strconv.Atoi(number1)
	int2, _ := strconv.Atoi(number2)
	return int1 + int2
}
```
